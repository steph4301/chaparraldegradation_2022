a[4]
# Read in data
# 2019 belt transect data
belt.spp_2019_load <- read.csv(here("deg_beltdensity_byspecies.csv"))
# Packages
library(tidyverse) # includes ggplot2, dplyr, tidyr, readr, purr, tibble, stringr, forcats
library(vegan)
library(here)
library(readxl)
# library(ggpubr) # customize ggplot2 for publication
# library(broom)
# library(AICcmodavg)
# library(janitor)
# library(multcompView)
# library(plotly)
# if (!require(devtools)) {
#   install.packages("devtools")
# }
# devtools::install_github("gavinsimpson/ggvegan")
# library(ggpmisc)
# Read in data
# 2019 belt transect data
belt.spp_2019_load <- read.csv(here("deg_beltdensity_byspecies.csv"))
# Read in data
# 2019 belt transect data
belt.spp_2019_load <- read.csv(here("deg_beltdensity_byspecies.csv"))
setwd("~/GitHub/chaparraldegradation_2022")
# Read in data
# 2019 belt transect data
belt.spp_2019_load <- read.csv(here("deg_beltdensity_byspecies.csv"))
# Read in data
# 2019 belt transect data
belt.spp_2019_load <- read.csv(here("deg_beltdensity_byspecies.csv"))
# Read in data
# 2019 belt transect data
belt.spp_2019_load <- read.csv(here("deg_beltdensity_byspecies.csv"))
# Packages
library(tidyverse) # includes ggplot2, dplyr, tidyr, readr, purr, tibble, stringr, forcats
library(vegan)
library(here)
library(readxl)
# library(ggpubr) # customize ggplot2 for publication
# library(broom)
# library(AICcmodavg)
# library(janitor)
# library(multcompView)
# library(plotly)
# if (!require(devtools)) {
#   install.packages("devtools")
# }
# devtools::install_github("gavinsimpson/ggvegan")
# library(ggpmisc)
# Read in data
# 2019 belt transect data
belt.spp_2019_load <- read.csv(here("deg_beltdensity_byspecies.csv"))
belt.spp_2019 <- belt.spp_2019_load %>%
dplyr::select(site, rep, species) %>%
mutate(site_rep = paste(site, rep, sep = ".")) %>%
mutate(species = case_when(species == "Bromus madritensis" ~ "Bromus rubens", # old name ~ new name
species == "Eucrypta\xcachrysanthemifolia" ~ "Eucrypta chrysanthemifolia",
TRUE ~ species))
### 2024 belt transect data
belt.spp_2024_load <- read.csv(here("belt_spprich_2024.csv"))
belt.spp_2024 <- belt.spp_2024_load %>%
dplyr::select(site, rep, species) %>%
mutate(site_rep = paste(site, rep, sep = ".")) %>%
filter(species != "moss")
belt.spprich <- bind_rows(belt.spp_2019, belt.spp_2024)
### species characteristics
sppchar <- read.csv("processed/specieslist.csv") %>% # species and their characteristics :) Created in 1.1_transect_continuous.Rmd
dplyr::select(!c(X, notes, ejepson))
list <- belt.spprich %>%
left_join(sppchar, by = "species")
#These are the species that are in belt.spprich that are NOT in the species characteristics list
a <- sort(unique(belt.spprich$species))
b <- sort(unique(sppchar$species))
speciesmissingfrom.sppchar <- setdiff(a, b) # <- KIT - can you help resolve this issue? I added the missing species and their characteristics to "processed/specieslist.csv" but they're not joining
speciesmissingfrom.sppchar
speciesmissingfrom.belt <- setdiff(b, a)
speciesmissingfrom.belt
# list of seven unknown species
unknown.spp <- read_excel("unknown_spp.xlsx")
belt.spp_2019 <- belt.spp_2019_load %>%
dplyr::select(site, rep, species) %>%
mutate(site_rep = paste(site, rep, sep = ".")) %>%
mutate(species = case_when(species == "Bromus madritensis" ~ "Bromus rubens", # old name ~ new name
species == "Eucrypta\xcachrysanthemifolia" ~ "Eucrypta chrysanthemifolia",
TRUE ~ species)) %>%
mutate(species = str_replace(species, " ", "_"))
belt.spp_2024 <- belt.spp_2024_load %>%
dplyr::select(site, rep, species) %>%
mutate(site_rep = paste(site, rep, sep = ".")) %>%
filter(species != "moss") %>%
mutate(species = str_replace(species, " ", "_"))
belt.spprich <- bind_rows(belt.spp_2019, belt.spp_2024)
View(belt.spprich)
### species characteristics
sppchar <- read.csv("processed/specieslist.csv") %>% # species and their characteristics :) Created in 1.1_transect_continuous.Rmd
dplyr::select(!c(X, notes, ejepson)) %>%
mutate(species = str_replace(species, " ", "_"))
View(sppchar)
### species characteristics
sppchar <- read.csv("processed/specieslist.csv") %>% # species and their characteristics :) Created in 1.1_transect_continuous.Rmd
dplyr::select(!c(X, notes, ejepson)) %>%
mutate(species = str_replace(species, " ", "_")) %>%
mutate(species = str_replace(species, " ", "_"))
list <- belt.spprich %>%
left_join(sppchar, by = "species")
View(list)
#These are the species that are in belt.spprich that are NOT in the species characteristics list
a <- sort(unique(belt.spprich$species))
b <- sort(unique(sppchar$species))
speciesmissingfrom.sppchar <- setdiff(a, b) # <- KIT - can you help resolve this issue? I added the missing species and their characteristics to "processed/specieslist.csv" but they're not joining
speciesmissingfrom.sppchar
speciesmissingfrom.belt <- setdiff(b, a)
speciesmissingfrom.belt
### species characteristics
sppchar <- read.csv("processed/specieslist.csv") %>% # species and their characteristics :) Created in 1.1_transect_continuous.Rmd
dplyr::select(!c(X, notes, ejepson)) %>%
mutate(species = str_replace(species, " ", "_")) %>%
mutate(species = str_replace(species, " ", "_"))
a
b
a[5]
b[5]
### species characteristics
sppchar <- read.csv("processed/specieslist.csv") %>% # species and their characteristics :) Created in 1.1_transect_continuous.Rmd
dplyr::select(!c(X, notes, ejepson)) %>%
mutate(species = str_replace(species, " ", "_")) %>%
mutate(species = str_replace(species, "  ", "_"))
list <- belt.spprich %>%
left_join(sppchar, by = "species")
#These are the species that are in belt.spprich that are NOT in the species characteristics list
a <- sort(unique(belt.spprich$species))
b <- sort(unique(sppchar$species))
b[5]
b <- gsub("[^ -~]+", " ", b)
b[5]
b <- gsub("[^ -~]+", "_", b)
b[5]
test = rawToChar(as.raw(c(0x44, 0x69, 0x61, 0x62, 0xc3, 0xa8, 0x74, 0x65, 0x20,  0x64, 0x65, 0x20, 0x74, 0x79, 0x70, 0x65, 0xc2, 0xa0, 0x49, 0x49)))
b1 = charToRaw(b)
b1
b1 = charToRaw(b[5])
b1
rawToChar(b1)
rawToChar("20")
rawToChar(b1[9])
g = rawToChar(b1[9])
g
### species characteristics
sppchar <- read.csv("processed/specieslist.csv") %>% # species and their characteristics :) Created in 1.1_transect_continuous.Rmd
dplyr::select(!c(X, notes, ejepson)) %>%
mutate(species = str_replace(species, " ", "_")) %>%
mutate(species = str_replace(species, g, "_"))
View(sppchar)
sppchar$species <- charToRaw(sppchar$species)
View(sppchar)
b1 <- gsub("\u00A0", " ", b, fixed = TRUE)
b1 <- gsub("\u00A0", " ", b, fixed = TRUE)%>%
mutate(str_replace(species, g, "_"))
b1\
b1
b1 = str_replace(b, " ","_"))
b1 = str_replace(b, " ","_")
b1
### species characteristics
sppchar <- read.csv("processed/specieslist.csv") %>% # species and their characteristics :) Created in 1.1_transect_continuous.Rmd
dplyr::select(!c(X, notes, ejepson)) %>%
mutate(species = str_replace(species, " ", "_")) %>%
mutate(species = gsub("\u00A0", " ", b, fixed = TRUE)) %>%
mutate(species = str_replace(species, g, "_"))
# Read in data
# 2019 belt transect data
belt.spp_2019_load <- read.csv(here("deg_beltdensity_byspecies.csv"))
belt.spp_2019 <- belt.spp_2019_load %>%
dplyr::select(site, rep, species) %>%
mutate(site_rep = paste(site, rep, sep = ".")) %>%
mutate(species = case_when(species == "Bromus madritensis" ~ "Bromus rubens", # old name ~ new name
species == "Eucrypta\xcachrysanthemifolia" ~ "Eucrypta chrysanthemifolia",
TRUE ~ species)) %>%
mutate(species = str_replace(species, " ", "_"))
### 2024 belt transect data
belt.spp_2024_load <- read.csv(here("belt_spprich_2024.csv"))
belt.spp_2024 <- belt.spp_2024_load %>%
dplyr::select(site, rep, species) %>%
mutate(site_rep = paste(site, rep, sep = ".")) %>%
filter(species != "moss") %>%
mutate(species = str_replace(species, " ", "_"))
belt.spprich <- bind_rows(belt.spp_2019, belt.spp_2024)
### species characteristics
sppchar <- read.csv("processed/specieslist.csv") %>% # species and their characteristics :) Created in 1.1_transect_continuous.Rmd
dplyr::select(!c(X, notes, ejepson)) %>%
mutate(species = str_replace(species, " ", "_")) %>%
mutate(species = gsub("\u00A0", " ", b, fixed = TRUE)) %>%
mutate(species = str_replace(species, g, "_"))
#These are the species that are in belt.spprich that are NOT in the species characteristics list
a <- sort(unique(belt.spprich$species))
b <- sort(unique(sppchar$species))
speciesmissingfrom.sppchar <- setdiff(a, b) # <- KIT - can you help resolve this issue? I added the missing species and their characteristics to "processed/specieslist.csv" but they're not joining
speciesmissingfrom.sppchar
speciesmissingfrom.belt <- setdiff(b, a)
speciesmissingfrom.belt
# list of seven unknown species
unknown.spp <- read_excel("unknown_spp.xlsx")
