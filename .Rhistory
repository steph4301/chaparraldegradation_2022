ggplot(data = cover_bylfstatus,
aes(y = percentcover*100, x = site, color = lifeform_status)) +
geom_point() +
facet_wrap(~lifeform_status)
# jitter - by site, lifeform, and status
ggplot(data = cover_bylfstatus,
aes(y = percentcover*100, x = site, color = lifeform_status)) +
geom_point() +
facet_wrap(~lifeform_status)
# jitter - by site, lifeform, and status
ggplot(data = cover_bylfstatus,
aes(y = percentcover*100, x = site, color = lifeform_status)) +
geom_point() +
facet_wrap(~lifeform_status)
# jitter - by site, lifeform, and status
cover1 <- ggplot(data = cover_bylfstatus,
aes(y = percentcover*100, x = site, color = lifeform_status)) +
geom_point() +
facet_wrap(~lifeform_status)
print(cover1)
ggplot(data = cover_byleaftype_wide) +
geom_point(aes(x = nonnative_grass_NA * 100, y = native_shrub_nonsclero * 100, color = "Native Shrub Nonsclero"), show.legend = TRUE) +
geom_smooth(aes(x = nonnative_grass_NA * 100, y = native_shrub_nonsclero * 100, color = "Native Shrub Nonsclero"),
method = "lm", se = TRUE, linetype = "solid", show.legend = TRUE) +
geom_point(aes(x = nonnative_grass_NA * 100, y = native_shrub_sclerophyllous * 100, color = "Native Shrub Sclero"), show.legend = TRUE) +
geom_smooth(aes(x = nonnative_grass_NA * 100, y = native_shrub_sclerophyllous * 100, color = "Native Shrub Sclero"),
method = "lm", se = TRUE, linetype = "dashed", show.legend = TRUE) +
labs(
x = "Percent cover non-native grass (%)",
y = "Percent cover native Shrub (%)",
title = "Comparison of Native Shrub percent cover by Nonnative Grass percent cover",
color = "Legend"
) +
scale_color_manual(values = c("Native Shrub Nonsclero" = "blue", "Native Shrub Sclero" = "red"),
labels = c("Non-sclerophyllous", "Sclerophyllous")) +
xlim(0, 100) +
ylim(0, 100) +
theme_bw()
ggplot(data = cover_byleaftype_wide) +
geom_point(aes(x = nonnative_grass_NA * 100, y = native_shrub_nonsclero * 100, color = "Native Shrub Nonsclero"), show.legend = TRUE) +
geom_smooth(aes(x = nonnative_grass_NA * 100, y = native_shrub_nonsclero * 100, color = "Native Shrub Nonsclero"),
method = "lm", se = TRUE, linetype = "solid", show.legend = TRUE) +
geom_point(aes(x = nonnative_grass_NA * 100, y = native_shrub_sclerophyllous * 100, color = "Native Shrub Sclero"), show.legend = TRUE) +
geom_smooth(aes(x = nonnative_grass_NA * 100, y = native_shrub_sclerophyllous * 100, color = "Native Shrub Sclero"),
method = "lm", se = TRUE, linetype = "dashed", show.legend = TRUE) +
labs(
x = "Percent cover non-native grass (%)",
y = "Percent cover native Shrub (%)",
title = "Comparison of Native Shrub percent cover by Nonnative Grass percent cover",
color = "Legend"
) +
scale_color_manual(values = c("Native Shrub Nonsclero" = "blue", "Native Shrub Sclero" = "red"),
labels = c("Non-sclerophyllous", "Sclerophyllous")) +
xlim(0, 100) +
ylim(0, 100) +
theme_bw()
ggplot(data = cover_byleaftype_wide) +
geom_point(aes(x = nonnative_grass_NA * 100, y = native_shrub_nonsclero * 100, color = "Native Shrub Nonsclero", shape = site), show.legend = TRUE) +
geom_smooth(aes(x = nonnative_grass_NA * 100, y = native_shrub_nonsclero * 100, color = "Native Shrub Nonsclero"),
method = "lm", se = TRUE, linetype = "solid", show.legend = TRUE) +
geom_point(aes(x = nonnative_grass_NA * 100, y = native_shrub_sclerophyllous * 100, color = "Native Shrub Sclero"), show.legend = TRUE) +
geom_smooth(aes(x = nonnative_grass_NA * 100, y = native_shrub_sclerophyllous * 100, color = "Native Shrub Sclero"),
method = "lm", se = TRUE, linetype = "dashed", show.legend = TRUE) +
labs(
x = "Percent cover non-native grass (%)",
y = "Percent cover native Shrub (%)",
title = "Comparison of Native Shrub percent cover by Nonnative Grass percent cover",
color = "Legend"
) +
scale_color_manual(values = c("Native Shrub Nonsclero" = "blue", "Native Shrub Sclero" = "red"),
labels = c("Non-sclerophyllous", "Sclerophyllous")) +
xlim(0, 100) +
ylim(0, 100) +
theme_bw()
ggplot(data = cover_byleaftype_wide, aes(shape = site)) +
geom_point(aes(x = nonnative_grass_NA * 100, y = native_shrub_nonsclero * 100, color = "Native Shrub Nonsclero"), show.legend = TRUE) +
geom_smooth(aes(x = nonnative_grass_NA * 100, y = native_shrub_nonsclero * 100, color = "Native Shrub Nonsclero"),
method = "lm", se = TRUE, linetype = "solid", show.legend = TRUE) +
geom_point(aes(x = nonnative_grass_NA * 100, y = native_shrub_sclerophyllous * 100, color = "Native Shrub Sclero"), show.legend = TRUE) +
geom_smooth(aes(x = nonnative_grass_NA * 100, y = native_shrub_sclerophyllous * 100, color = "Native Shrub Sclero"),
method = "lm", se = TRUE, linetype = "dashed", show.legend = TRUE) +
labs(
x = "Percent cover non-native grass (%)",
y = "Percent cover native Shrub (%)",
title = "Comparison of Native Shrub percent cover by Nonnative Grass percent cover",
color = "Legend"
) +
scale_color_manual(values = c("Native Shrub Nonsclero" = "blue", "Native Shrub Sclero" = "red"),
labels = c("Non-sclerophyllous", "Sclerophyllous")) +
xlim(0, 100) +
ylim(0, 100) +
theme_bw()
ggplot(data = cover_byleaftype_wide) +
geom_point(aes(x = nonnative_grass_NA * 100, y = native_shrub_nonsclero * 100, color = "Native Shrub Nonsclero", shape = site), show.legend = TRUE) +
geom_smooth(aes(x = nonnative_grass_NA * 100, y = native_shrub_nonsclero * 100, color = "Native Shrub Nonsclero"),
method = "lm", se = TRUE, linetype = "solid", show.legend = TRUE) +
geom_point(aes(x = nonnative_grass_NA * 100, y = native_shrub_sclerophyllous * 100, color = "Native Shrub Sclero", shape = site), show.legend = TRUE) +
geom_smooth(aes(x = nonnative_grass_NA * 100, y = native_shrub_sclerophyllous * 100, color = "Native Shrub Sclero"),
method = "lm", se = TRUE, linetype = "dashed", show.legend = TRUE) +
labs(
x = "Percent cover non-native grass (%)",
y = "Percent cover native Shrub (%)",
title = "Comparison of Native Shrub percent cover by Nonnative Grass percent cover",
color = "Legend"
) +
scale_color_manual(values = c("Native Shrub Nonsclero" = "blue", "Native Shrub Sclero" = "red"),
labels = c("Non-sclerophyllous", "Sclerophyllous")) +
xlim(0, 100) +
ylim(0, 100) +
theme_bw()
sch1 <- ggplot(data = cover_byleaftype_wide) +
geom_point(aes(x = nonnative_grass_NA * 100, y = native_shrub_nonsclero * 100, color = "Native Shrub Nonsclero", shape = site), show.legend = TRUE) +
geom_smooth(aes(x = nonnative_grass_NA * 100, y = native_shrub_nonsclero * 100, color = "Native Shrub Nonsclero"),
method = "lm", se = TRUE, linetype = "solid", show.legend = TRUE) +
geom_point(aes(x = nonnative_grass_NA * 100, y = native_shrub_sclerophyllous * 100, color = "Native Shrub Sclero", shape = site), show.legend = TRUE) +
geom_smooth(aes(x = nonnative_grass_NA * 100, y = native_shrub_sclerophyllous * 100, color = "Native Shrub Sclero"),
method = "lm", se = TRUE, linetype = "dashed", show.legend = TRUE) +
labs(
x = "Percent cover non-native grass (%)",
y = "Percent cover native Shrub (%)",
title = "Comparison of Native Shrub percent cover by Nonnative Grass percent cover",
color = "Legend"
) +
scale_color_manual(values = c("Native Shrub Nonsclero" = "blue", "Native Shrub Sclero" = "red"),
labels = c("Non-sclerophyllous", "Sclerophyllous")) +
xlim(0, 100) +
ylim(0, 100) +
theme_bw()
print(scl1)
sch1 <- ggplot(data = cover_byleaftype_wide) +
geom_point(aes(x = nonnative_grass_NA * 100, y = native_shrub_nonsclero * 100, color = "Native Shrub Nonsclero", shape = site), show.legend = TRUE) +
geom_smooth(aes(x = nonnative_grass_NA * 100, y = native_shrub_nonsclero * 100, color = "Native Shrub Nonsclero"),
method = "lm", se = TRUE, linetype = "solid", show.legend = TRUE) +
geom_point(aes(x = nonnative_grass_NA * 100, y = native_shrub_sclerophyllous * 100, color = "Native Shrub Sclero", shape = site), show.legend = TRUE) +
geom_smooth(aes(x = nonnative_grass_NA * 100, y = native_shrub_sclerophyllous * 100, color = "Native Shrub Sclero"),
method = "lm", se = TRUE, linetype = "dashed", show.legend = TRUE) +
labs(
x = "Percent cover non-native grass (%)",
y = "Percent cover native Shrub (%)",
title = "Comparison of Native Shrub percent cover by Nonnative Grass percent cover",
color = "Legend"
) +
scale_color_manual(values = c("Native Shrub Nonsclero" = "blue", "Native Shrub Sclero" = "red"),
labels = c("Non-sclerophyllous", "Sclerophyllous")) +
xlim(0, 100) +
ylim(0, 100) +
theme_bw()
print(sch1)
sch1 <- ggplot(data = cover_byleaftype_wide) +
geom_point(aes(x = nonnative_grass_NA * 100, y = native_shrub_nonsclero * 100, color = "Native Shrub Nonsclero", shape = site, size = 16), show.legend = TRUE) +
geom_smooth(aes(x = nonnative_grass_NA * 100, y = native_shrub_nonsclero * 100, color = "Native Shrub Nonsclero"),
method = "lm", se = TRUE, linetype = "solid", show.legend = TRUE) +
geom_point(aes(x = nonnative_grass_NA * 100, y = native_shrub_sclerophyllous * 100, color = "Native Shrub Sclero", shape = site), show.legend = TRUE) +
geom_smooth(aes(x = nonnative_grass_NA * 100, y = native_shrub_sclerophyllous * 100, color = "Native Shrub Sclero"),
method = "lm", se = TRUE, linetype = "dashed", show.legend = TRUE) +
labs(
x = "Percent cover non-native grass (%)",
y = "Percent cover native Shrub (%)",
title = "Comparison of Native Shrub percent cover by Nonnative Grass percent cover",
color = "Legend"
) +
scale_color_manual(values = c("Native Shrub Nonsclero" = "blue", "Native Shrub Sclero" = "red"),
labels = c("Non-sclerophyllous", "Sclerophyllous")) +
xlim(0, 100) +
ylim(0, 100) +
theme_bw()
sch1 <- ggplot(data = cover_byleaftype_wide) +
geom_point(aes(x = nonnative_grass_NA * 100, y = native_shrub_nonsclero * 100, color = "Native Shrub Nonsclero", shape = site), size = 4, show.legend = TRUE) +
geom_smooth(aes(x = nonnative_grass_NA * 100, y = native_shrub_nonsclero * 100, color = "Native Shrub Nonsclero"),
method = "lm", se = TRUE, linetype = "solid", show.legend = TRUE) +
geom_point(aes(x = nonnative_grass_NA * 100, y = native_shrub_sclerophyllous * 100, color = "Native Shrub Sclero", shape = site), show.legend = TRUE) +
geom_smooth(aes(x = nonnative_grass_NA * 100, y = native_shrub_sclerophyllous * 100, color = "Native Shrub Sclero"),
method = "lm", se = TRUE, linetype = "dashed", show.legend = TRUE) +
labs(
x = "Percent cover non-native grass (%)",
y = "Percent cover native Shrub (%)",
title = "Comparison of Native Shrub percent cover by Nonnative Grass percent cover",
color = "Legend"
) +
scale_color_manual(values = c("Native Shrub Nonsclero" = "blue", "Native Shrub Sclero" = "red"),
labels = c("Non-sclerophyllous", "Sclerophyllous")) +
xlim(0, 100) +
ylim(0, 100) +
theme_bw()
ggplot(data = cover_byleaftype_wide) +
geom_point(aes(x = nonnative_grass_NA * 100, y = native_shrub_nonsclero * 100, color = "Native Shrub Nonsclero", shape = site), size = 4, show.legend = TRUE) +
geom_smooth(aes(x = nonnative_grass_NA * 100, y = native_shrub_nonsclero * 100, color = "Native Shrub Nonsclero"),
method = "lm", se = TRUE, linetype = "solid", show.legend = TRUE) +
geom_point(aes(x = nonnative_grass_NA * 100, y = native_shrub_sclerophyllous * 100, color = "Native Shrub Sclero", shape = site), show.legend = TRUE) +
geom_smooth(aes(x = nonnative_grass_NA * 100, y = native_shrub_sclerophyllous * 100, color = "Native Shrub Sclero"),
method = "lm", se = TRUE, linetype = "dashed", show.legend = TRUE) +
labs(
x = "Percent cover non-native grass (%)",
y = "Percent cover native Shrub (%)",
title = "Comparison of Native Shrub percent cover by Nonnative Grass percent cover",
color = "Legend"
) +
scale_color_manual(values = c("Native Shrub Nonsclero" = "blue", "Native Shrub Sclero" = "red"),
labels = c("Non-sclerophyllous", "Sclerophyllous")) +
xlim(0, 100) +
ylim(0, 100) +
theme_bw()
print(scl1)
print(schl1)
print(sch1)
show.legend = TRUE) +
sch1 <- ggplot(data = cover_byleaftype_wide) +
geom_point(aes(x = nonnative_grass_NA * 100, y = native_shrub_nonsclero * 100, color = "Native Shrub Nonsclero", shape = site), size = 4, show.legend = TRUE) +
geom_smooth(aes(x = nonnative_grass_NA * 100, y = native_shrub_nonsclero * 100, color = "Native Shrub Nonsclero"),
method = "lm", se = TRUE, linetype = "solid", show.legend = TRUE) +
geom_point(aes(x = nonnative_grass_NA * 100, y = native_shrub_sclerophyllous * 100, color = "Native Shrub Sclero", shape = site), size = 4
show.legend = TRUE) +
sch1 <- ggplot(data = cover_byleaftype_wide) +
geom_point(aes(x = nonnative_grass_NA * 100, y = native_shrub_nonsclero * 100, color = "Native Shrub Nonsclero", shape = site), size = 4, show.legend = TRUE) +
geom_smooth(aes(x = nonnative_grass_NA * 100, y = native_shrub_nonsclero * 100, color = "Native Shrub Nonsclero"),
method = "lm", se = TRUE, linetype = "solid", show.legend = TRUE) +
geom_point(aes(x = nonnative_grass_NA * 100, y = native_shrub_sclerophyllous * 100, color = "Native Shrub Sclero", shape = site), size = 4,  show.legend = TRUE) +
geom_smooth(aes(x = nonnative_grass_NA * 100, y = native_shrub_sclerophyllous * 100, color = "Native Shrub Sclero"),
method = "lm", se = TRUE, linetype = "dashed", show.legend = TRUE) +
labs(
x = "Percent cover non-native grass (%)",
y = "Percent cover native Shrub (%)",
title = "Comparison of Native Shrub percent cover by Nonnative Grass percent cover",
color = "Legend"
) +
scale_color_manual(values = c("Native Shrub Nonsclero" = "blue", "Native Shrub Sclero" = "red"),
labels = c("Non-sclerophyllous", "Sclerophyllous")) +
xlim(0, 100) +
ylim(0, 100) +
theme_bw()
sch1
print(sch1)
ggplot(data = cover_bylfstatus_wide,
aes(y = shrub_native*100, x = grass_nonnative*100)) +
geom_point() +
# geom_smooth(method = "lm", se = TRUE, color = "blue", linetype = "solid")  +
xlim(0, 100) +
ylim(0, 100) +
theme_bw()
ggplot(data = cover_bylfstatus_wide,
aes(y = shrub_native*100, x = grass_nonnative*100)) +
geom_point() +
# geom_smooth(method = "lm", se = TRUE, color = "blue", linetype = "solid")  +
xlim(0, 100) +
ylim(0, 100) +
theme_bw()
cover2 <- ggplot(data = cover_bylfstatus_wide,
aes(y = shrub_native*100, x = grass_nonnative*100)) +
geom_point() +
# geom_smooth(method = "lm", se = TRUE, color = "blue", linetype = "solid")  +
xlim(0, 100) +
ylim(0, 100) +
theme_bw()
print(cover2)
cover2 <- ggplot(data = cover_bylfstatus_wide,
aes(y = shrub_native*100, x = grass_nonnative*100)) +
geom_point() +
geom_smooth(method = "lm", se = TRUE, color = "blue", linetype = "solid")  +
xlim(0, 100) +
ylim(0, 100) +
theme_bw()
model.g <- lm(shrub_native ~ grass_nonnative, data = cover_bylfstatus_wide)
model.g_summary <- summary(model.g)
r_squared <- round(model.g_summary$r.squared, 3)
print(paste("Multiple R^2:", r_squared))
summary(model.g)
summary(model.g)
library(pwr)
# Number of Samples (# of transects)
U = 40
# Sample Size (number of data points/transect)
V = 1
# Significance level
sig = 0.05
# F Statistic
F =92.67
# Power
P = 0.8
#Linear regression Test for power
pwr.f2.test(u = U, v = V, f2 = F, sig.level = sig, power = )
#Linear regression Test for power
pwr.f2.test(u = U, v = V, f2 = F, sig.level = sig, power = )
# F Statistic
F = .9267
#Linear regression Test for power
pwr.f2.test(u = U, v = V, f2 = F, sig.level = sig, power = )
library(pwr)
# F Statistic
F = 92.67
#Linear regression Test for power
pwr.f2.test(u = U, v = V, f2 = F, sig.level = sig, power = )
#Linear regression Test for power
pwr.f2.test(u = U, v = V, f2 = F, sig.level = sig, power = P)
#Linear regression Test for power
pwr.f2.test(u = U, v = V, f2 = F, sig.level = sig, power = P)
#Linear regression Test for power
pwr.f2.test(u = U, v = V, f2 = F, sig.level = sig, power = )
#Linear regression Test for F statistic
pwr.f2.test(u = U, v = V, sig.level = sig, power = P)
#Linear regression Test for power
pwr.f2.test(u = U, v = V, f2 = F, sig.level = sig, power = )
knitr::opts_chunk$set(echo = TRUE)
summary(cars)
plot(pressure)
knitr::opts_chunk$set(echo = TRUE)
devtools::install_github("jarioksa/twinspan")
library(twinspan)
knitr::opts_chunk$set(echo = TRUE)
knitr::opts_chunk$set(echo = TRUE)
library(here) # similar to set working directory
library(tidyverse) # data wrangling - includes ggplot2, dplyr, tidyr, readr, purr, tibble, stringr, forcats
library(readxl)
devtools::install_github("an-bui/calecopal")
library(calecopal)
# all palettes
names(cal_palettes)
#chaparral1
#chaparral2
cal_palette(name = "chaparral3", n = 20, type = "continuous")
#species colors
HEAR <- "#D3E3CA"
RHOV <- "#92A587"
RHIL <- "#2F3525"
MAFA <- "gray60"
SALE <- "gray40"
ARCA <- "gray20"
scl <- 16
css <- 17
colors_scl <- c(HEAR, RHOV, RHIL)
colors_css <- c(MAFA, SALE, ARCA)
# Lifeform colors: shrub, grass, forb
shrub <- "green4"
grass <- "yellow2"
forb <- "purple2"
fern <- "black"
colors_lifeform <- c(shrub, grass, forb, fern)
# Status colors: native, exotic
native <- "black"
nonnative <- "maroon"
unknown <- "lightblue"
colors_status <- c(native, nonnative, unknown)
# "orange", "lightblue", "limegreen", "deeppink","mediumpurple2", "darkgreen"
file_transect_2019_load <- read_excel("deg_percentcover_byspecies_bylifeform_2024.xlsx", sheet = "2019_data")
# -- years 2017, 2019
# -- Site 1: transects 1-6
# -- Site 2: transects 1-6
# -- INT1, INT2, INT3, INT4
transect2019 <- file_transect_2019_load %>%
dplyr::select(c(site, transect, year, distance, vertical, species)) %>% # select columns to full join with 2024 data
filter(year %in% c(2017, 2019)) %>% #filter data to 2019 data
dplyr::select(year, site, transect, distance, vertical, species)
# View the data (optional)
#View(transect2019)
#sort(unique(transect2019$transect))
#sort(unique(transect2019$site))
file_transect_2024_load <- read.csv("Transects_2024 - transect.csv", header = TRUE, na.strings=c("","NA"))
# -- years 2024
# -- Site 1: transects 7-14
# -- Site 2: transects 7-21
# -- INT5
transect2024 <- file_transect_2024_load %>%
dplyr::select(c(site, transect, year, distance, vertical, species)) %>%
filter(species != "N/A")
# View the data (optional)
#View(transect_2024)
#sort(unique(transect_2024$transect))
#sort(unique(transect_2024$site))
abcover_fulljoin <- full_join(transect2019, transect2024, by = intersect(names(transect2019), names(transect2024)))
# View the data (optional)
#View(abcover_full)
#sort(unique(abcover_full$transect))
#sort(unique(abcover_full$site))
# convert dataframe to tibble
abcover_fulljoin_tib <- as_tibble(abcover_fulljoin)
class(abcover_fulljoin_tib)
abcover_full <- abcover_fulljoin_tib %>%
mutate(site_rep = paste(site, transect, sep = "_")) %>% # combine site and rep to one column
mutate(site_rep_dist = paste(site_rep, distance, sep = "_")) %>%  # combine site_rep and distance to one column
mutate(species = case_when(species == "BG bare ground" ~ "bare_ground", # oldname ~ newname
species == "ground" ~ "bare_ground",
species == "native_litter" ~ "litter",
species == "nonnative_thatch" ~ "thatch",
species == "Bromus diandrus BRDI" ~ "Bromus diandrus",
species == "Bromus rubens BRRU" ~ "Bromus rubens",
species == "Bromus hordeaceus BRHO" ~ "Bromus hordeaceus",
species == "Rapistrum rugosum - round pods" ~ "Rapistrum rugosum",
species == "HIIN Hirschfeldia incana - long pods" ~ "Hirschfeldia incana",
species == "Hirschfeldia incana - long pods" ~ "Hirschfeldia incana",
species == "Salvia lucophylla" ~ "Salvia leucophylla",
species == "Malacothamnus fasciculatus " ~ "Malacothamnus fasciculatus",
species == "dead HEAR" ~ "Heteromeles arbutifolia dead",
species == "dead MAFA" ~ "Malacothamnus fasciculatus dead",
species == "dead RHIL" ~ "Rhamnus ilicifolia dead",
species == "dead ARCA" ~ "Artemisia californica dead",
species == "dead SALE" ~ "Salvia leucophylla dead",
species == "ACGL Acmispon glaber" ~ "Acmispon glaber",
species == "Acmispon maritimus - round, sevfl" ~ "Acmispon maritimus",
species == "Acmispon strigosus - oval, sevfl" ~ "Acmispon strigosus",
species == "Sambucus nigra" ~ "Sambucus mexicana",
species == "Blitum californicum" ~ "Chenopodium californicum",
TRUE ~ species)) %>%
mutate(
year = as.character(year),
site = as.character(site),
transect = as.character(transect),
distance = as.character(distance),
vertical = as.character(vertical),
species = as.character(species)
)
glimpse(abcover_full) # look at new columns
sort(unique(abcover_full$species))
specieslist <- file_transect_2019_load %>%
dplyr::select(species, lifeform, status, lifecycle, family) %>%
mutate(status = case_when(status == "Native" ~ "native", # oldname ~ newname
status == "Non-native" ~ "nonnative",
status == "thatch" ~ "ground",
status == "litter" ~ "ground",
status == "rock" ~ "ground",
TRUE ~ status)) %>%
mutate(lifeform = case_when(lifeform == "Grass" ~ "grass",
lifeform == "Shrub" ~ "shrub",
lifeform == "Forb" ~ "forb",
lifeform == "thatch" ~ "ground",
lifeform == "litter" ~ "ground",
lifeform == "rock" ~ "ground",
TRUE ~ lifeform)) %>%
mutate(lifecycle = case_when(lifecycle == "Annual" ~ "annual",
lifecycle == "Perennial" ~ "perennial",
lifecycle == "thatch" ~ "ground",
lifecycle == "litter" ~ "ground",
lifecycle == "rock" ~ "ground",
TRUE ~ lifecycle)) %>%
mutate(family = case_when(family == "thatch" ~ "ground",
family == "litter" ~ "ground",
family == "rock" ~ "ground",
TRUE ~ family)) %>%
mutate(species = case_when(species == "BG bare ground" ~ "bare_ground",
species == "ground" ~ "bare_ground",
species == "native_litter" ~ "litter",
species == "nonnative_thatch" ~ "thatch",
species == "Bromus diandrus BRDI" ~ "Bromus diandrus",
species == "Bromus rubens BRRU" ~ "Bromus rubens",
species == "Bromus hordeaceus BRHO" ~ "Bromus hordeaceus",
species == "Rapistrum rugosum - round pods" ~ "Rapistrum rugosum",
species == "HIIN Hirschfeldia incana - long pods" ~ "Hirschfeldia incana",
species == "Hirschfeldia incana - long pods" ~ "Hirschfeldia incana",
species == "Salvia lucophylla" ~ "Salvia leucophylla",
species == "Malacothamnus fasciculatus " ~ "Malacothamnus fasciculatus",
species == "dead HEAR" ~ "Heteromeles arbutifolia dead",
species == "dead MAFA" ~ "Malacothamnus fasciculatus dead",
species == "dead RHIL" ~ "Rhamnus ilicifolia dead",
species == "dead ARCA" ~ "Artemisia californica dead",
species == "dead SALE" ~ "Salvia leucophylla dead",
species == "ACGL Acmispon glaber" ~ "Acmispon glaber",
species == "Acmispon maritimus - round, sevfl" ~ "Acmispon maritimus",
species == "Acmispon strigosus - oval, sevfl" ~ "Acmispon strigosus",
species == "Mirabilis laevis var. crassifolia" ~ "Mirabilis laevis",
TRUE ~ species)) %>%
distinct()
#View(specieslist)
sort(unique(specieslist$species))
ab_species <- sort(unique(abcover_full$species))
species_species <- sort(unique(specieslist$species))
#These are the species that are in abcover_full that are NOT in the species list
difab <- setdiff(ab_species, species_species)
difab
#These are the species that are in the species list that are NOT in abcover_full
difsp <- setdiff(species_species, ab_species)
difsp
# new.specieslist <- specieslist %>%
#   add_row(species = "",
#           lifeform = "",
#           status = "",
#           lifecycle = "",
#           family = "")
# # Rename if need be renamed
# new.specieslist <- specieslist %>%
#     mutate(species = case_when(species == "Mirabilis laevis var. crassifolia" ~ "Mirabilis laevis",
#                                TRUE ~ species))
#
# new.abcover_full <- abcover_full %>%
#     mutate(species = case_when(species == "Blitum californicum" ~ "Chenopodium californicum",
#                                species == "Sambucus nigra" ~ "Sambucus mexicana",
#                                TRUE ~ species))
#
# new.ab_species <- sort(unique(new.abcover_full$species))
# new.species_species <- sort(unique(new.specieslist$species))
#
# new.ab_species == new.species_species
#
# #These are the species that are in abcover_full that are NOT in the species list
# new.difab <- setdiff(new.ab_species, new.species_species)
# new.difab
#
# #These are the species that are in the species list that are NOT in abcover_full
# new.difsp <- setdiff(new.species_species, new.ab_species)
# new.difsp
#
#
# # Run the code below when you are sure you added everything correctly
# specieslist <- new.specieslist
# abcover_full <- new.abcover_full
#
#write.csv(specieslist, file = "specieslist.csv")
abcover_charateristics <- abcover_full %>%
left_join(specieslist, by = "species")
ab_shrubs <- abcover_charateristics %>%
filter(lifeform == "shrub") %>%
pull(species) %>%
unique() %>%
sort()
shrub_shrubs <- sort(unique(shrub_leaftype$species))
