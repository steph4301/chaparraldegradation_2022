seeds_per_g_log = log(seeds_per_g))
dim(germ_tray_native)
view(germ_tray_native)
summary(germ_tray_native)
germ_tray_native %>%
group_by(stand_core_depth) %>%
summarise(treatment = length(treatment))
kruskal.test(seeds_per_g ~ , data = germ_tray_native)
kruskal.test(seeds_per_g ~ site, data = germ_tray_native)
seedbank_prep <- seedbank %>%
group_by(stand, site, soilcore, depth_name, status, treatment, stand_core, stand_core_depth, stand_core_depth_treat) %>%
summarize(subsample_g = mean(subsample_g))
germ_tray <- germ_tray_prep %>%
left_join(seedbank_prep, by = "stand_core_depth_treat") %>%
mutate(seeds_per_g = (germination_n/subsample_g),
seeds_per_g_log = log(seeds_per_g))
dim(germ_tray)
view(germ_tray)
seedbank_prep <- seedbank %>%
group_by(stand, site, soilcore, depth_name, treatment, stand_core, stand_core_depth, stand_core_depth_treat) %>%
summarize(subsample_g = mean(subsample_g))
germ_tray <- germ_tray_prep %>%
left_join(seedbank_prep, by = "stand_core_depth_treat") %>%
mutate(seeds_per_g = (germination_n/subsample_g),
seeds_per_g_log = log(seeds_per_g))
view(germ_tray)
germ_tray_prep_status <- seedbank %>%
group_by(status, stand_core_depth_treat) %>%
summarize(germination_n = sum(count))
seedbank_prep_status <- seedbank %>%
group_by(stand, site, soilcore, depth_name, status, treatment, stand_core, stand_core_depth, stand_core_depth_treat) %>%
summarize(subsample_g = mean(subsample_g))
germ_tray_prep_status <- seedbank %>%
group_by(status, stand_core_depth_treat) %>%
summarize(germination_n = sum(count))
seedbank_prep_status <- seedbank %>%
group_by(stand, site, soilcore, depth_name, status, treatment, stand_core, stand_core_depth, stand_core_depth_treat) %>%
summarize(subsample_g = mean(subsample_g))
germ_tray_status <- germ_tray_prep_status %>%
left_join(seedbank_prep_status, by = "stand_core_depth_treat") %>%
mutate(seeds_per_g = (germination_n/subsample_g),
seeds_per_g_log = log(seeds_per_g))
view(germ_tray_prep_status)
seedbank$stand_core_depth_treat_status <- paste(seedbank$stand_core_depth_treat, seedbank$status, sep="_")
germ_tray_prep_status <- seedbank %>%
group_by(stand_core_depth_treat_status) %>%
summarize(germination_n = sum(count))
seedbank_prep_status <- seedbank %>%
group_by(stand, site, soilcore, depth_name, status, treatment, stand_core, stand_core_depth, stand_core_depth_treat, stand_core_depth_treat_status) %>%
summarize(subsample_g = mean(subsample_g))
germ_tray_status <- germ_tray_prep_status %>%
left_join(seedbank_prep_status, by = "stand_core_depth_treat_status") %>%
mutate(seeds_per_g = (germination_n/subsample_g),
seeds_per_g_log = log(seeds_per_g))
view(germ_tray_status)
germ_tray_status <- germ_tray_prep_status %>%
left_join(seedbank_prep_status, by = "stand_core_depth_treat_status") %>%
filter(seeds_per_g >0) %>%
mutate(seeds_per_g = (germination_n/subsample_g),
seeds_per_g_log = log(seeds_per_g))
view(germ_tray_prep_status)
germ_tray_prep_status <- seedbank %>%
group_by(stand_core_depth_treat_status) %>%
summarize(germination_n = sum(count)) %>%
filter(germination_n > 0)
view(germ_tray_prep_status)
seedbank_prep_status <- seedbank %>%
group_by(stand, site, soilcore, depth_name, status, treatment, stand_core, stand_core_depth, stand_core_depth_treat, stand_core_depth_treat_status) %>%
summarize(subsample_g = mean(subsample_g))
germ_tray_status <- germ_tray_prep_status %>%
left_join(seedbank_prep_status, by = "stand_core_depth_treat_status") %>%
mutate(seeds_per_g = (germination_n/subsample_g),
seeds_per_g_log = log(seeds_per_g))
view(germ_tray_status)
view(seedbank)
view(germ_tray_prep_status)
dim(germ_tray_prep_status)
seedbank_prep_status <- seedbank %>%
group_by(stand, site, soilcore, depth_name, status, treatment, stand_core, stand_core_depth, stand_core_depth_treat, stand_core_depth_treat_status) %>%
summarize(subsample_g = mean(subsample_g))
dim(seedbank_prep)
dim(seedbank_prep_status)
germ_tray_prep_status <- seedbank %>%
group_by(stand_core_depth_treat_status) %>%
summarize(germination_n = sum(count)) %>%
filter(germination_n > 0)
dim(germ_tray_prep_status) # [1] 371 rows, 2 columns
seedbank_prep_status <- seedbank %>%
group_by(stand, site, soilcore, depth_name, status, treatment, stand_core, stand_core_depth, stand_core_depth_treat, stand_core_depth_treat_status) %>%
summarize(subsample_g = mean(subsample_g))
germ_tray_status <- germ_tray_prep_status %>%
left_join(seedbank_prep_status, by = "stand_core_depth_treat_status")
dim(germ_tray_status)
view(germ_tray_status)
germ_tray_status <- germ_tray_prep_status %>%
left_join(seedbank_prep_status, by = "stand_core_depth_treat_status") %>%
mutate(seeds_per_g = (germination_n/subsample_g),
seeds_per_g_log = log(seeds_per_g))
dim(germ_tray_status) # 371 rows
view(germ_tray_status)
ggqqplot(germ_tray_status$seeds_per_g)
ggqqplot(germ_tray_status$seeds_per_g_log)
histogram(germ_tray_status$germination_n)
boxplot(seeds_per_g ~ status, data=germ_tray_status, main="Seeds/g by Status",
xlab="Status", ylab="Seeds per gram")
boxplot(germination_n ~ status, data=germ_tray_status, main="Seeds/g by Status",
xlab="Status", ylab="Seeds per gram")
boxplot(germination_n ~ status, data=germ_tray_status, main="Germination by Status",
xlab="Status", ylab="Seeds per gram")
ggqqplot(germ_tray_status$seeds_per_g_log ~ status)
qplot(subsample_g, seeds_per_g, data = germ_tray_status, facets = . ~ status)
qplot(site, seeds_per_g, data = germ_tray_status, facets = . ~ status)
qplot(site, seeds_per_g, data = germ_tray, facets = . ~ depth_name)
shrub_seedbank <- seedbank %>%
filter(lifeform == "shrub")
sort(unique(shrub_seedbank$species_diversity)) # 10 species
sort(unique(shrub_seedbank$family))
length(unique(shrub_seedbank$family)) # 7 families
shrub_seedbank <- seedbank %>%
filter(lifeform == "shrub")
sort(unique(shrub_seedbank$species_diversity)) # 10 species
sort(unique(shrub_seedbank$species_diversity)) # 10 species
sort(unique(shrub_seedbank$family))
sort(unique(shrub_seedbank$species_diversity)) # 10 species
sort(unique(shrub_seedbank$family))
sort(unique(shrub_seedbank$species_diversity)) # 10 species
# total number of germinates per tray
germ_tray_prep <- seedbank %>%
group_by(stand_core_depth_treat) %>%
summarize(germination_n = sum(count))
seedbank_prep <- seedbank %>%
group_by(stand, site, soilcore, depth_name, treatment, stand_core, stand_core_depth, stand_core_depth_treat) %>%
summarize(subsample_g = mean(subsample_g))
germ_tray <- germ_tray_prep %>%
left_join(seedbank_prep, by = "stand_core_depth_treat") %>%
mutate(seeds_per_g = (germination_n/subsample_g),
seeds_per_g_log = log(seeds_per_g))
dim(germ_tray)
boxplot(germ_tray$seeds_per_g)
ggqqplot(germ_tray$seeds_per_g)
native_seedbank <- seedbank %>%
filter(status == "native")
sort(unique(native_seedbank$species_diversity)) # 47 species
sort(unique(native_seedbank$family)) # 22 families
length(unique(native_seedbank$species_diversity)) # 47 species
length(native_seedbank$species_diversity) # 47 species
nonnative_seedbank <- seedbank %>%
filter(status == "nonnative")
sort(unique(nonnative_seedbank$species_diversity)) #17 species
sort(unique(nonnative_seedbank$family)) # 6 families
# total number of germinates per tray
germ_tray_prep <- seedbank %>%
group_by(stand_core_depth_treat) %>%
summarize(germination_n = sum(count))
seedbank_prep <- seedbank %>%
group_by(stand, site, soilcore, depth_name, treatment, stand_core, stand_core_depth, stand_core_depth_treat) %>%
summarize(subsample_g = mean(subsample_g))
germ_tray <- germ_tray_prep %>%
left_join(seedbank_prep, by = "stand_core_depth_treat") %>%
mutate(seeds_per_g = (germination_n/subsample_g),
seeds_per_g_log = log(seeds_per_g))
dim(germ_tray)
view(germ_tray)
boxplot(germ_tray$seeds_per_g)
histogram(germ_tray$seeds_per_g)
histogram(germ_tray$germination_n)
boxplot(germ_tray$seeds_per_g_log)
histogram(germ_tray$seeds_per_g_log)
histogram(germ_tray$germination_n)
boxplot(seeds_per_g ~ stand_core, data=germ_tray, main="Seeds/g by hillslope and rep",
xlab="Hillslope_rep", ylab="Seeds per gram")
boxplot(seeds_per_g ~ site, data=germ_tray, main="Seeds/g by hillslope and rep",
xlab="Hillslope", ylab="Seeds per gram")
boxplot(seeds_per_g ~ subsample_g, data=germ_tray, main="Seeds/g by Subsample weight (g)",
xlab="Subsample Weight (g)", ylab="Seeds per gram")
qplot(subsample_g, seeds_per_g, data = germ_tray)
qplot(subsample_g, seeds_per_g, data = germ_tray, facets = . ~ depth_name)
qplot(subsample_g, seeds_per_g, data = germ_tray, facets = . ~ treatment)
qplot(site, seeds_per_g, data = germ_tray, facets = . ~ depth_name)
boxplot(germ_tray$seeds_per_g_log)
histogram(germ_tray$seeds_per_g_log)
boxplot(seeds_per_g_log ~ stand_core, data=germ_tray, main="Seeds/g by hillslope and rep",
xlab="Hillslope_rep", ylab="Seeds per gram")
boxplot(seeds_per_g_log ~ site, data=germ_tray, main="Seeds/g by hillslope and rep",
xlab="Hillslope", ylab="Seeds per gram")
boxplot(seeds_per_g_log ~ subsample_g, data=germ_tray, main="Seeds/g by Subsample weight (g)",
xlab="Subsample Weight (g)", ylab="Seeds per gram")
qplot(subsample_g, seeds_per_g_log, data = germ_tray)
qplot(subsample_g, seeds_per_g_log, data = germ_tray, facets = . ~ depth_name)
qplot(subsample_g, seeds_per_g_log, data = germ_tray, facets = . ~ treatment)
qplot(site, seeds_per_g_log, data = germ_tray, facets = . ~ depth_name)
qplot(subsample_g, seeds_per_g_log, data = germ_tray)
qplot(subsample_g, seeds_per_g_log, data = germ_tray, facets = . ~ depth_name)
qplot(subsample_g, seeds_per_g_log, data = germ_tray, facets = . ~ treatment)
qplot(site, seeds_per_g_log, data = germ_tray, facets = . ~ depth_name)
ggqqplot(germ_tray$seeds_per_g)
shapiro.test(germ_tray$seeds_per_g)
ggqqplot(germ_tray$seeds_per_g_log)
# poisson distribution?
plot(germ_tray(poisson.dist[]))
shapiro.test(germ_tray$seeds_per_g_log)
kruskal.test(seeds_per_g_log ~ site, data = germ_tray)
pairwise.wilcox.test(germ_tray$seeds_per_g_log, germ_tray$site,
p.adjust.method = "BH")
kruskal.test(seeds_per_g_log ~ depth_name, data = germ_tray)
pairwise.wilcox.test(germ_tray$seeds_per_g, germ_tray$depth_name,
p.adjust.method = "BH")
germ_tray %>%
group_by(depth_name) %>%
summarize(total_germ = sum(germination_n))
kruskal.test(seeds_per_g_log ~ site * depth_name * treatment, data = germ_tray)
kruskal.test(seeds_per_g_log ~ site + depth_name + treatment, data = germ_tray)
kruskal.test(seeds_per_g_log ~ treatmnt, data = germ_tray)
kruskal.test(seeds_per_g_log ~ treatment, data = germ_tray)
view(nativecover)
view(nncover)
view(ab_diversity_2_native_nn_plot)
view(ab_diversity_native_nn)
average_cover <- read.csv("nat_nn_cover", header = TRUE, na.strings=c("","NA"))# %>%
average_cover <- read.csv("nat_nn_cover.csv", header = TRUE, na.strings=c("","NA"))# %>%
view(average_cover)
germination_m2_load <- read_xlsx("processed/germination_m2.xlsx")
glimpse(germination_m2_load)
seedbank <- germination_m2_load %>%
mutate(site = fct_relevel(site,
"INT1", "INT2", "INT3","ENH1", "ENH2", "DEG1", "DEG2")) %>%
mutate(treatment = fct_relevel(treatment,
"control", "charate", "oven", "ovenchar")) %>%
dplyr::select(c(stand, site, soilcore, depth_name, subsample_cm3, subsample_g,treatment, rep, species_diversity, genus_abundance, lifeform, status, lifescycle, family, count, stand_core, stand_core_depth, stand_core_depth_treat, n_per_cm3, n_per_m3, n_per_g, n_per_kg))
seedbank <- seedbank %>%
mutate(#year = as.character(year),
stand = as.character(stand),
site = as.character(site),
soilcore = as.character(soilcore),
depth_name = as.character(depth_name),
treatment = as.character(treatment),
rep = as.integer(rep),
species_diversity = as.character(species_diversity),
genus_abundance = as.character(genus_abundance),
lifeform = as.character(lifeform),
status = as.character(status),
lifescycle = as.character(lifescycle),
family = as.character(family),
count = as.integer(count)
) %>%
mutate(stand = fct_relevel(stand,
"intact", "enhanced", "degraded")) %>%
mutate(treatment = fct_relevel(treatment,
"control", "charate", "oven", "ovenchar"))
seedbank <- seedbank %>%
mutate(stand_core = fct_relevel(stand_core,
"INT1_1", "INT1_2" , "INT1_3" ,"INT2_4"  ,"INT2_5" , "INT2_6",  "INT3_7" , "INT3_8" , "INT3_9",
"ENH1_1" , "ENH1_2" , "ENH1_3" , "ENH1_4" , "ENH1_5" , "ENH2_6" , "ENH2_7" , "ENH2_8"  ,"ENH2_9"  ,"ENH2_10",
"DEG1_1" , "DEG1_2"  ,"DEG1_3"  ,"DEG1_4" , "DEG2_5" , "DEG2_6" , "DEG2_7" ))  %>%
mutate(site = fct_relevel(site, "INT1", "INT2", "INT3", "ENH1", "ENH2", "DEG1", "DEG2"))
seedbank$stand_core_treat <- paste(seedbank$stand_core, seedbank$treatment, sep="_")
seedbank$stand_core_depth_treat_status <- paste(seedbank$stand_core_depth_treat, seedbank$status, sep="_")
view(seedbank)
unique(seedbank$site)
average_cover <- read.csv("nat_nn_cover.csv", header = TRUE, na.strings=c("","NA"))
seedbank <- seedbank %>%
mutate(stand_core = fct_relevel(stand_core,
"INT1_1", "INT1_2" , "INT1_3" ,"INT2_4"  ,"INT2_5" , "INT2_6",  "INT3_7" , "INT3_8" , "INT3_9",
"ENH1_1" , "ENH1_2" , "ENH1_3" , "ENH1_4" , "ENH1_5" , "ENH2_6" , "ENH2_7" , "ENH2_8"  ,"ENH2_9"  ,"ENH2_10",
"DEG1_1" , "DEG1_2"  ,"DEG1_3"  ,"DEG1_4" , "DEG2_5" , "DEG2_6" , "DEG2_7" ))  %>%
mutate(site = fct_relevel(site, "INT1", "INT2", "INT3", "ENH1", "ENH2", "DEG1", "DEG2")) %>%
left_join(average_cover, by = 'site')
view(seedbank)
boxplot(germ_tray$seeds_per_g)
histogram(germ_tray$seeds_per_g)
histogram(germ_tray$germination_n)
boxplot(seeds_per_g ~ stand_core, data=germ_tray, main="Seeds/g by hillslope and rep",
xlab="Hillslope_rep", ylab="Seeds per gram")
view(abcover_bylf_bystatus)
knitr::opts_chunk$set(echo = TRUE)
# data prep
abcover_bylf_bystatus <- abcover_full_v_omitground %>%
group_by(standtype, lifeform, status, site, rep, site_rep) %>%
dplyr::summarize(
count_per_transect = n_distinct(site_rep_dist),
percentcover = n_distinct(site_rep_dist)/41 # <-- calculate percent cover by transect, lifeform, and status
)
view(abcover_bylf_bystatus) # prints to new tab
view(abcover_bylf_bystatus) # prints to new tab
view(abcover_full_v)
# copy/paste data, edited in Excel, saved as csv in 2022b folder
abcover_bystatus_edited <- read.csv("abcover_bystatus.csv", header = TRUE, na.strings=c("","NA"))
```{r}
ggplot(abcover_bystatus_edited, aes(fill = status, y=percentcover*100, x=site_rep)) +
geom_bar(position="stack", stat="identity") +
theme(axis.text.x.bottom = element_text(angle = 90)) +
labs(x = "Transect ID",
y = "Percent cover (%)",
title = "Percent cover by vegetation status per Trasect")
view(abcover_bystatus_edited)
abcover_bylf_bystatus
view(abcover_bylf_bystatus)
view(abcover_bylf_bystatus_native)
# data prep
abcover_bylf_bystatus <- abcover_full_v_omitground %>%
group_by(standtype, lifeform, status, site, rep, site_rep) %>%
dplyr::summarize(
count_per_transect = n_distinct(site_rep_dist),
percentcover = n_distinct(site_rep_dist)/41 # <-- calculate percent cover by transect, lifeform, and status
)
view(abcover_bylf_bystatus) # prints to new tab
abcover_bylf_bystatus_meanSD <- cover_statuslf_matrix %>%
group_by(lifeform, status, standtype) %>%
summarize(avg_cover = mean(percentcover),
sd = sd(percentcover),
N = length(percentcover),
se = ((sd(percentcover))/sqrt(length((percentcover)))))
abcover_vegcover <- abcover_full_v %>%
filter(vertical == "1") %>%
group_by(standtype, site, rep) %>%
dplyr::summarize(count_per_transect = length(vertical),
percentcover_veg = length(vertical)/41,
percentcover_ground = (1-percentcover_veg)
)
print(abcover_vegcover)
abcover_vegcover_long <- gather(abcover_vegcover, covertype, percentcover, percentcover_veg:percentcover_ground, factor_key = TRUE)
abcover_vegcover_long
# combine standtype and native/nonnative status to one column
abcover_vegcover$site_rep <- paste(abcover_vegcover$site, abcover_vegcover$rep, sep="_")
#  column plot - by site_rep
abcover_vegcover_plot_2 <- ggplot(abcover_vegcover, aes(x = site_rep, y = percentcover_veg, fill = standtype)) +
geom_col(position = "dodge", width = 0.8) +
labs(
title = "Total Vegetation Cover",
x = "Site",
y = "Percent Vegetation Cover (%)") + # title, axes titles
scale_fill_manual(values = c(standcolors)) + # manual colors
# scale_fill_manual(values = cal_palette('chaparral2')) +  # continuous colors
#                  limits = c("intact", "matrix", "degraded"), # "limits" reorders the x-axis
#                  labels = c("Intact", "Matrix", "Degraded")) + # "labels" changes the name
theme_bw() #+
# scale_x_discrete(
#   limits=c("intact", "matrix", "degraded"),
#   labels=c("intact" = "Intact", "matrix" = "Matrix", "degraded" = "Degraded")
#   )
abcover_vegcover_plot_2
#  column plot - by SITE
abcover_vegcover_plot <- ggplot(abcover_vegcover_meanSD, aes(x = standtype, y = mean_cover, fill = standtype)) +
geom_col(position = "dodge", width = 0.8) +
geom_errorbar(
aes(ymin = mean_cover-se, ymax=mean_cover+se), # mean +- SE
width=.2, position=position_dodge(.9)) +
labs(
title = "Percent Canopy Cover",
x = "Site",
y = "Average Percent Canopy Cover (%)") + # title, axes titles
scale_fill_manual(values = c(standcolors)) + # manual colors
# scale_fill_manual(values = cal_palette('chaparral2')) +  # continuous colors
#                  limits = c("intact", "matrix", "degraded"), # "limits" reorders the x-axis
#                  labels = c("Intact", "Matrix", "Degraded")) + # "labels" changes the name
theme_bw() #+
# scale_x_discrete(
#   limits=c("intact", "matrix", "degraded"),
#   labels=c("intact" = "Intact", "matrix" = "Matrix", "degraded" = "Degraded")
#   )
abcover_vegcover_plot
#  column plot - by SITE
abcover_vegcover_plot <- ggplot(abcover_vegcover_meanSD, aes(x = standtype, y = mean_cover, fill = standtype)) +
geom_col(position = "dodge", width = 0.8) +
geom_errorbar(
aes(ymin = mean_cover-se, ymax=mean_cover+se), # mean +- SE
width=.2, position=position_dodge(.9)) +
labs(
title = "Percent Canopy Cover",
x = "Site",
y = "Average Percent Canopy Cover (%)") + # title, axes titles
scale_fill_manual(values = c(standcolors)) + # manual colors
# scale_fill_manual(values = cal_palette('chaparral2')) +  # continuous colors
#                  limits = c("intact", "matrix", "degraded"), # "limits" reorders the x-axis
#                  labels = c("Intact", "Matrix", "Degraded")) + # "labels" changes the name
theme_bw() #+
ggplot(abcover_vegcover_meanSD, aes(x = standtype, y = mean_cover, fill = standtype)) +
geom_col(position = "dodge", width = 0.8) +
geom_errorbar(
aes(ymin = mean_cover-se, ymax=mean_cover+se), # mean +- SE
width=.2, position=position_dodge(.9)) +
labs(
title = "Percent Canopy Cover",
x = "Site",
y = "Average Percent Canopy Cover (%)") + # title, axes titles
scale_fill_manual(values = c(standcolors))
# mean SD by stand type
abcover_vegcover_meanSD <- abcover_vegcover_long_vegonly %>%
group_by(standtype) %>% # by site
summarize(mean_cover = mean(percentcover),
n = length((percentcover)),
sd = sd(percentcover),
se = ((sd(percentcover))/sqrt(length((percentcover)))))
# data prep
abcover_bylf_bystatus <- abcover_full_v_omitground %>%
group_by(standtype, lifeform, status, site, rep, site_rep) %>%
dplyr::summarize(
count_per_transect = n_distinct(site_rep_dist),
percentcover = n_distinct(site_rep_dist)/41 # <-- calculate percent cover by transect, lifeform, and status
)
view(abcover_bylf_bystatus) # prints to new tab
write.csv(abcover_bylf_bystatus,"processed/abcover_bylf_bystatus.csv")
average_cover <- read.csv("processed/abcover_bylf_bystatus.csv", header = TRUE, na.strings=c("","NA"))
average_cover
seedbank <- seedbank %>%
mutate(stand_core = fct_relevel(stand_core,
"INT1_1", "INT1_2" , "INT1_3" ,"INT2_4"  ,"INT2_5" , "INT2_6",  "INT3_7" , "INT3_8" , "INT3_9",
"ENH1_1" , "ENH1_2" , "ENH1_3" , "ENH1_4" , "ENH1_5" , "ENH2_6" , "ENH2_7" , "ENH2_8"  ,"ENH2_9"  ,"ENH2_10",
"DEG1_1" , "DEG1_2"  ,"DEG1_3"  ,"DEG1_4" , "DEG2_5" , "DEG2_6" , "DEG2_7" ))  %>%
mutate(site = fct_relevel(site, "INT1", "INT2", "INT3", "ENH1", "ENH2", "DEG1", "DEG2")) %>%
left_join(average_cover, by = 'site')
average_cover <- read.csv("nat_nn_cover.csv", header = TRUE, na.strings=c("","NA"))
view(average_cover)
seedbank <- germination_m2_load %>%
mutate(site = fct_relevel(site,
"INT1", "INT2", "INT3","ENH1", "ENH2", "DEG1", "DEG2")) %>%
mutate(treatment = fct_relevel(treatment,
"control", "charate", "oven", "ovenchar")) %>%
dplyr::select(c(stand, site, soilcore, depth_name, subsample_cm3, subsample_g,treatment, rep, species_diversity, genus_abundance, lifeform, status, lifescycle, family, count, stand_core, stand_core_depth, stand_core_depth_treat, n_per_cm3, n_per_m3, n_per_g, n_per_kg))
seedbank <- seedbank %>%
mutate(#year = as.character(year),
stand = as.character(stand),
site = as.character(site),
soilcore = as.character(soilcore),
depth_name = as.character(depth_name),
treatment = as.character(treatment),
rep = as.integer(rep),
species_diversity = as.character(species_diversity),
genus_abundance = as.character(genus_abundance),
lifeform = as.character(lifeform),
status = as.character(status),
lifescycle = as.character(lifescycle),
family = as.character(family),
count = as.integer(count)
) %>%
mutate(stand = fct_relevel(stand,
"intact", "enhanced", "degraded")) %>%
mutate(treatment = fct_relevel(treatment,
"control", "charate", "oven", "ovenchar"))
seedbank <- seedbank %>%
mutate(stand_core = fct_relevel(stand_core,
"INT1_1", "INT1_2" , "INT1_3" ,"INT2_4"  ,"INT2_5" , "INT2_6",  "INT3_7" , "INT3_8" , "INT3_9",
"ENH1_1" , "ENH1_2" , "ENH1_3" , "ENH1_4" , "ENH1_5" , "ENH2_6" , "ENH2_7" , "ENH2_8"  ,"ENH2_9"  ,"ENH2_10",
"DEG1_1" , "DEG1_2"  ,"DEG1_3"  ,"DEG1_4" , "DEG2_5" , "DEG2_6" , "DEG2_7" ))  %>%
mutate(site = fct_relevel(site, "INT1", "INT2", "INT3", "ENH1", "ENH2", "DEG1", "DEG2")) %>%
left_join(average_cover, by = 'site')
seedbank$stand_core_treat <- paste(seedbank$stand_core, seedbank$treatment, sep="_")
seedbank$stand_core_depth_treat_status <- paste(seedbank$stand_core_depth_treat, seedbank$status, sep="_")
view(seedbank)
# total number of germinates per tray
germ_tray_prep <- seedbank %>%
group_by(stand_core_depth_treat) %>%
summarize(germination_n = sum(count))
seedbank_prep <- seedbank %>%
group_by(stand, site, soilcore, depth_name, treatment, stand_core, stand_core_depth, stand_core_depth_treat) %>%
summarize(subsample_g = mean(subsample_g))
germ_tray <- germ_tray_prep %>%
left_join(seedbank_prep, by = "stand_core_depth_treat") %>%
mutate(seeds_per_g = (germination_n/subsample_g),
seeds_per_g_log = log(seeds_per_g)) # transform data: log
dim(germ_tray)
view(germ_tray)
# total number of germinates per tray
germ_tray_prep <- seedbank %>%
group_by(stand_core_depth_treat) %>%
summarize(germination_n = sum(count))
seedbank_prep <- seedbank %>%
group_by(stand, site, soilcore, depth_name, treatment, stand_core, stand_core_depth, stand_core_depth_treat, nonnative_grass, native_shrub) %>%
summarize(subsample_g = mean(subsample_g))
germ_tray <- germ_tray_prep %>%
left_join(seedbank_prep, by = "stand_core_depth_treat") %>%
mutate(seeds_per_g = (germination_n/subsample_g),
seeds_per_g_log = log(seeds_per_g)) # transform data: log
dim(germ_tray)
view(germ_tray)
germ_tray
boxplot(seeds_per_g ~ stand_core, data=germ_tray, main="Seeds/g by hillslope and rep",
xlab="Hillslope_rep", ylab="Seeds per gram")
boxplot(seeds_per_g ~ site, data=germ_tray, main="Seeds/g by hillslope and rep",
xlab="Hillslope", ylab="Seeds per gram")
boxplot(seeds_per_g ~ subsample_g, data=germ_tray, main="Seeds/g by Subsample weight (g)",
xlab="Subsample Weight (g)", ylab="Seeds per gram")
qplot(subsample_g, seeds_per_g, data = germ_tray)
qplot(subsample_g, seeds_per_g, data = germ_tray, facets = . ~ depth_name)
qplot(subsample_g, seeds_per_g, data = germ_tray, facets = . ~ treatment)
qplot(site, seeds_per_g, data = germ_tray, facets = . ~ depth_name)
qplot(nonnative_grass, seeds_per_g, data = germ_tray, facets = . ~ depth_name)
qplot(native_shrub, seeds_per_g, data = germ_tray, facets = . ~ depth_name)
boxplot(seeds_per_g ~ subsample_g, data=germ_tray, main="Seeds/g by Subsample weight (g)",
xlab="Subsample Weight (g)", ylab="Seeds per gram")
boxplot(seeds_per_g ~ nonnative_grass, data=germ_tray, main="Seeds/g by Non-native grass cover (%)",
xlab="Non-native grass cover (%)", ylab="Seeds per gram")
qplot(native_shrub, seeds_per_g, data = germ_tray, facets = . ~ depth_name)
unique(germ_tray$native_shrub)
qplot(nonnative_grass, seeds_per_g, data = germ_tray, facets = . ~ depth_name)
qplot(nonnative_grass, seeds_per_g, data = germ_tray, facets = . ~ depth_name)
qplot(native_shrub, seeds_per_g, data = germ_tray, facets = . ~ depth_name)
```{r normality}
ggqqplot(germ_tray$seeds_per_g)
shapiro.test(germ_tray$seeds_per_g) # not transformed
boxplot(seeds_per_g_log ~ stand_core, data=germ_tray, main="Seeds/g by hillslope and rep",
xlab="Hillslope_rep", ylab="Seeds per gram")
boxplot(seeds_per_g_log ~ site, data=germ_tray, main="Seeds/g by hillslope and rep",
xlab="Hillslope", ylab="Seeds per gram")
boxplot(seeds_per_g_log ~ subsample_g, data=germ_tray, main="Seeds/g by Subsample weight (g)",
xlab="Subsample Weight (g)", ylab="Seeds per gram")
qplot(site, seeds_per_g_log, data = germ_tray, facets = . ~ depth_name)
qplot(native_shrub, seeds_per_g, data = germ_tray, facets = . ~ status)
view(germ_tray)
qplot(native_shrub, seeds_per_g, data = germ_tray, facets = . ~ depth_name)
qplot(subsample_g, seeds_per_g, data = germ_tray_status, facets = . ~ status)
qplot(site, seeds_per_g, data = germ_tray_status, facets = . ~ status)
