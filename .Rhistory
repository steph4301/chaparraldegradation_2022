pivot_wider(names_from = sub_grp, values_from = mean_percentcover) %>%
mutate(Species = str_replace_all(Species, "\\.", " "),
species = paste0("<i>", species, "</i>")
)
# Print as a gt table
table_cover <- table_clustercover %>%
gt() %>%
tab_header(
title = "Mean Percent Cover by Cluster",
#subtitle = "Mean ± Standard Deviation for Elevation, Hillshade, Slope, Southwestness, Fire Events, and Coordinates"
) %>%
cols_align(
align = "left", # Center alignment
columns = "Species" # Specify the "cluster" column
) %>%
tab_options(
table.width = pct(100) # Make the table width 100%
)
table_cover
table_clustercover
view(table_clustercover)
table_clustercover <- cluster.subgrp.df %>%
mutate(sub_grp = recode(sub_grp,
`1` = "NNG",
`2` = "ssF",
`3` = "ssG",
`4` = "ssFG",
`5` = "EVG")) %>%
pivot_longer(cols = 4:55, names_to = "Species", values_to = "percent_cover") %>%
group_by(sub_grp, Species) %>%
summarise(mean_percentcover = round(mean(percent_cover), 3)) %>%
pivot_wider(names_from = sub_grp, values_from = mean_percentcover) %>%
mutate(Species = str_replace_all(Species, "\\.", " "),
Species = paste0("<i>", Species, "</i>")
)
# Print as a gt table
table_cover <- table_clustercover %>%
gt() %>%
tab_header(
title = "Mean Percent Cover by Cluster",
#subtitle = "Mean ± Standard Deviation for Elevation, Hillshade, Slope, Southwestness, Fire Events, and Coordinates"
) %>%
cols_align(
align = "left", # Center alignment
columns = "Species" # Specify the "cluster" column
) %>%
tab_options(
table.width = pct(100) # Make the table width 100%
)
table_cover
table_clustercover <- cluster.subgrp.df %>%
mutate(sub_grp = recode(sub_grp,
`1` = "NNG",
`2` = "ssF",
`3` = "ssG",
`4` = "ssFG",
`5` = "EVG")) %>%
pivot_longer(cols = 4:55, names_to = "Species", values_to = "percent_cover") %>%
group_by(sub_grp, Species) %>%
summarise(mean_percentcover = round(mean(percent_cover), 3)) %>%
pivot_wider(names_from = sub_grp, values_from = mean_percentcover) %>%
mutate(Species = str_replace_all(Species, "\\.", " "))
# Print as a gt table
table_cover <- table_clustercover %>%
gt() %>%
tab_header(
title = "Mean Percent Cover by Cluster",
#subtitle = "Mean ± Standard Deviation for Elevation, Hillshade, Slope, Southwestness, Fire Events, and Coordinates"
) %>%
cols_align(
align = "left", # Center alignment
columns = "Species" # Specify the "cluster" column
) %>%
tab_options(
table.width = pct(100) # Make the table width 100%
)
table_cover
# Export the table as a PDF
gtsave(spptable, "table_clustercover.pdf")
# Export the table as a PDF
gtsave(table_cover, "table_spp_clustergroups.pdf")
# Export the table as a PDF
gtsave(table_cover, "Ch1_Degradation_figures/table_spp_clustergroups.pdf")
# Print as a gt table
table_cover <- table_clustercover %>%
gt() %>%
tab_header(
title = "Mean Percent Cover by Cluster",
#subtitle = "Mean ± Standard Deviation for Elevation, Hillshade, Slope, Southwestness, Fire Events, and Coordinates"
) %>%
cols_align(
align = "left", # Center alignment
columns = "Species" # Specify the "cluster" column
) %>%
tab_options(
table.width = pct(50) # Make the table width 100%
)
table_cover
# Export the table as a PDF
gtsave(table_cover, "Ch1_Degradation_figures/table_spp_clustergroups.pdf")
# Print as a gt table
table_cover <- table_clustercover %>%
gt() %>%
tab_header(
title = "Mean Percent Cover by Cluster",
#subtitle = "Mean ± Standard Deviation for Elevation, Hillshade, Slope, Southwestness, Fire Events, and Coordinates"
) %>%
cols_align(
align = "left", # Center alignment
columns = "Species" # Specify the "cluster" column
) %>%
tab_options(
table.width = pct(100) # Make the table width 100%
)
table_cover
# Print as a gt table
table_cover <- table_clustercover %>%
gt() %>%
tab_header(
title = "Mean Percent Cover by Cluster",
#subtitle = "Mean ± Standard Deviation for Elevation, Hillshade, Slope, Southwestness, Fire Events, and Coordinates"
) %>%
cols_align(
align = "left", # Center alignment
columns = "Species" # Specify the "cluster" column
) %>%
tab_options(
table.width = pct(100) # Make the table width 100%
)
table_cover
# Export the table as a PDF
gtsave(table_cover, "Ch1_Degradation_figures/table_spp_clustergroups.pdf")
# Export the table as a PDF
gtsave(table_cover, "Ch1_Degradation_figures/table_spp_clustergroups.png")
# Print as a gt table
table_cover <- table_clustercover %>%
gt() %>%
tab_header(
title = "Mean Percent Cover by Cluster",
#subtitle = "Mean ± Standard Deviation for Elevation, Hillshade, Slope, Southwestness, Fire Events, and Coordinates"
) %>%
cols_align(
align = "left", # Center alignment
columns = "Species" # Specify the "cluster" column
) %>%
tab_options(
table.width = pct(90) # Make the table width 100%
)
table_cover
# Export the table as a PDF
gtsave(table_cover, "Ch1_Degradation_figures/table_spp_clustergroups.png")
# Print as a gt table
table_cover <- table_clustercover %>%
gt() %>%
tab_header(
title = "Mean Percent Cover by Cluster",
#subtitle = "Mean ± Standard Deviation for Elevation, Hillshade, Slope, Southwestness, Fire Events, and Coordinates"
) %>%
cols_align(
align = "left", # Center alignment
columns = "Species" # Specify the "cluster" column
) %>%
tab_options(
table.width = pct(80) # Make the table width 100%
)
table_cover
# Export the table as a PDF
gtsave(table_cover, "Ch1_Degradation_figures/table_spp_clustergroups.png")
table_clustercover <- cluster.subgrp.df %>%
mutate(sub_grp = recode(sub_grp,
`1` = "NNG",
`2` = "ssF",
`3` = "ssG",
`4` = "ssFG",
`5` = "EVG")) %>%
pivot_longer(cols = 4:55, names_to = "Species", values_to = "percent_cover") %>%
group_by(sub_grp, Species) %>%
summarise(mean_percentcover = round(mean(percent_cover), 3)) %>%
pivot_wider(names_from = sub_grp, values_from = mean_percentcover) %>%
mutate(Species = str_replace_all(Species, "\\.", " ")) %>%
mutate(Species = case_when(Species == "Cryptantha spp" ~ "Cryptantha spp."))
table_clustercover
table_clustercover <- cluster.subgrp.df %>%
mutate(sub_grp = recode(sub_grp,
`1` = "NNG",
`2` = "ssF",
`3` = "ssG",
`4` = "ssFG",
`5` = "EVG")) %>%
pivot_longer(cols = 4:55, names_to = "Species", values_to = "percent_cover") %>%
group_by(sub_grp, Species) %>%
summarise(mean_percentcover = round(mean(percent_cover), 3)) %>%
pivot_wider(names_from = sub_grp, values_from = mean_percentcover) %>%
mutate(Species = str_replace_all(Species, "\\.", " ")) %>%
mutate(Species = case_when(Species == "Cryptantha spp" ~ "Cryptantha spp."),
TRUE ~ Species)
table_clustercover <- cluster.subgrp.df %>%
mutate(sub_grp = recode(sub_grp,
`1` = "NNG",
`2` = "ssF",
`3` = "ssG",
`4` = "ssFG",
`5` = "EVG")) %>%
pivot_longer(cols = 4:55, names_to = "Species", values_to = "percent_cover") %>%
group_by(sub_grp, Species) %>%
summarise(mean_percentcover = round(mean(percent_cover), 3)) %>%
pivot_wider(names_from = sub_grp, values_from = mean_percentcover) %>%
mutate(Species = str_replace_all(Species, "\\.", " ")) %>%
mutate(Species = case_when(Species == "Cryptantha spp" ~ "Cryptantha spp.",
TRUE ~ Species))
table_clustercover
# Print as a gt table
table_cover <- table_clustercover %>%
gt() %>%
tab_header(
title = "Mean Percent Cover by Cluster",
#subtitle = "Mean ± Standard Deviation for Elevation, Hillshade, Slope, Southwestness, Fire Events, and Coordinates"
) %>%
cols_align(
align = "left", # Center alignment
columns = "Species" # Specify the "cluster" column
) %>%
tab_options(
table.width = pct(80) # Make the table width 100%
)
table_cover
table_cover
view(table_clustercover)
table_clustercover <- cluster.subgrp.df %>%
mutate(sub_grp = recode(sub_grp,
`1` = "NNG",
`2` = "ssF",
`3` = "ssG",
`4` = "ssFG",
`5` = "EVG")) %>%
pivot_longer(cols = 4:55, names_to = "Species", values_to = "percent_cover") %>%
group_by(sub_grp, Species) %>%
summarise(mean_percentcover = round(mean(percent_cover), 3)) %>%
pivot_wider(names_from = sub_grp, values_from = mean_percentcover) %>%
mutate(Species = str_replace_all(Species, "\\.", " ")) %>%
mutate(Species = case_when(Species == "Cryptantha spp" ~ "Cryptantha spp.",
TRUE ~ Species))
view(table_clustercover)
table_clustercover <- cluster.subgrp.df %>%
mutate(sub_grp = recode(sub_grp,
`1` = "NNG",
`2` = "ssF",
`3` = "ssG",
`4` = "ssFG",
`5` = "EVG")) %>%
pivot_longer(cols = 4:55, names_to = "Species", values_to = "percent_cover") %>%
group_by(sub_grp, Species) %>%
summarise(mean_percentcover = round(mean(percent_cover), 3)) %>%
pivot_wider(names_from = sub_grp, values_from = mean_percentcover) %>%
mutate(Species = str_replace_all(Species, "\\.", " ")) %>%
mutate(Species = case_when(Species == "Cryptantha spp" ~ "Cryptantha spp.", # old name ~ new name
TRUE ~ Species))
cluster.subgrp.df %>%
mutate(sub_grp = recode(sub_grp,
`1` = "NNG",
`2` = "ssF",
`3` = "ssG",
`4` = "ssFG",
`5` = "EVG")) %>%
pivot_longer(cols = 4:55, names_to = "Species", values_to = "percent_cover") %>%
group_by(sub_grp, Species) %>%
summarise(mean_percentcover = round(mean(percent_cover), 3)) %>%
pivot_wider(names_from = sub_grp, values_from = mean_percentcover) %>%
mutate(Species = str_replace_all(Species, "\\.", " ")) %>%
mutate(Species = case_when(Species == "Cryptantha spp" ~ "Cryptantha spp.", # old name ~ new name
TRUE ~ Species))
table_clustercover <- cluster.subgrp.df %>%
mutate(sub_grp = recode(sub_grp,
`1` = "NNG",
`2` = "ssF",
`3` = "ssG",
`4` = "ssFG",
`5` = "EVG")) %>%
pivot_longer(cols = 4:55, names_to = "Species", values_to = "percent_cover") %>%
group_by(sub_grp, Species) %>%
summarise(mean_percentcover = round(mean(percent_cover), 3)) %>%
pivot_wider(names_from = sub_grp, values_from = mean_percentcover) %>%
mutate(Species = str_replace_all(Species, "\\.", " ")) %>%
mutate(Species = case_when(Species == "Cryptantha spp" ~ "Cryptantha spp.", # old name ~ new name
TRUE ~ Species))
table_clustercover
view(table_clustercover)
table_clustercover <- cluster.subgrp.df %>%
mutate(sub_grp = recode(sub_grp,
`1` = "NNG",
`2` = "ssF",
`3` = "ssG",
`4` = "ssFG",
`5` = "EVG")) %>%
pivot_longer(cols = 4:55, names_to = "Species", values_to = "percent_cover") %>%
group_by(sub_grp, Species) %>%
summarise(mean_percentcover = round(mean(percent_cover), 3)) %>%
pivot_wider(names_from = sub_grp, values_from = mean_percentcover) %>%
mutate(Species = str_replace_all(Species, "\\.", " ")) %>%
mutate(Species = case_when(Species == "Cryptantha spp" ~ "Cryptantha spp.", # old name ~ new name
Species == "Erodium spp" ~ "Erodium spp.",
TRUE ~ Species))
view(table_clustercover)
table_clustercover <- cluster.subgrp.df %>%
mutate(sub_grp = recode(sub_grp,
`1` = "NNG",
`2` = "ssF",
`3` = "ssG",
`4` = "ssFG",
`5` = "EVG")) %>%
pivot_longer(cols = 4:55, names_to = "Species", values_to = "percent_cover") %>%
group_by(sub_grp, Species) %>%
summarise(mean_percentcover = round(mean(percent_cover, na.rm = TRUE), 3)) %>%
pivot_wider(names_from = sub_grp, values_from = mean_percentcover) %>%
mutate(Species = str_replace_all(Species, "\\.", " ")) %>%
mutate(Species = case_when(
Species == "Cryptantha spp" ~ "Cryptantha spp.", # old name ~ new name
Species == "Erodium spp" ~ "Erodium spp.",
TRUE ~ Species
))
view(table_clustercover)
table_clustercover <- cluster.subgrp.df %>%
mutate(sub_grp = recode(sub_grp,
`1` = "NNG",
`2` = "ssF",
`3` = "ssG",
`4` = "ssFG",
`5` = "EVG")) %>%
pivot_longer(cols = 4:55, names_to = "Species", values_to = "percent_cover") %>%
group_by(sub_grp, Species) %>%
summarise(mean_percentcover = round(mean(percent_cover, na.rm = TRUE), 3)) %>%
pivot_wider(names_from = sub_grp, values_from = mean_percentcover) %>%
mutate(Species = str_replace_all(Species, "\\.", " ")) %>%
mutate(Species = str_trim(Species)) %>%
mutate(Species = case_when(
Species == "Cryptantha spp" ~ "Cryptantha spp.", # old name ~ new name
Species == "Erodium spp" ~ "Erodium spp.",
TRUE ~ Species
))
table_clustercover
view(table_clustercover)
table_clustercover <- cluster.subgrp.df %>%
mutate(sub_grp = recode(sub_grp,
`1` = "NNG",
`2` = "ssF",
`3` = "ssG",
`4` = "ssFG",
`5` = "EVG")) %>%
pivot_longer(cols = 4:55, names_to = "Species", values_to = "percent_cover") %>%
group_by(sub_grp, Species) %>%
summarise(mean_percentcover = round(mean(percent_cover, na.rm = TRUE), 3)) %>%
pivot_wider(names_from = sub_grp, values_from = mean_percentcover) %>%
mutate(Species = str_replace_all(Species, "\\.", " ")) %>%
mutate(Species = str_trim(Species)) %>%
mutate(Species = case_when(
Species == "Cryptantha spp" ~ "Cryptantha spp.", # old name ~ new name
Species == "Erodium spp" ~ "Erodium spp.",
Species == "Lupinus spp" ~ "Lupinus spp.",
TRUE ~ Species
))
table_clustercover <- cluster.subgrp.df %>%
mutate(sub_grp = recode(sub_grp,
`1` = "NNG",
`2` = "ssF",
`3` = "ssG",
`4` = "ssFG",
`5` = "EVG")) %>%
pivot_longer(cols = 4:55, names_to = "Species", values_to = "percent_cover") %>%
group_by(sub_grp, Species) %>%
summarise(mean_percentcover = round(mean(percent_cover, na.rm = TRUE), 3)) %>%
pivot_wider(names_from = sub_grp, values_from = mean_percentcover) %>%
mutate(Species = str_replace_all(Species, "\\.", " ")) %>%
mutate(Species = str_trim(Species)) %>%
mutate(Species = case_when(
Species == "Cryptantha spp" ~ "Cryptantha spp.", # old name ~ new name
Species == "Erodium spp" ~ "Erodium spp.",
Species == "Lupinus spp" ~ "Lupinus spp.",
TRUE ~ Species
))
# Print as a gt table
table_cover <- table_clustercover %>%
gt() %>%
tab_header(
title = "Mean Percent Cover by Cluster",
#subtitle = "Mean ± Standard Deviation for Elevation, Hillshade, Slope, Southwestness, Fire Events, and Coordinates"
) %>%
cols_align(
align = "left", # Center alignment
columns = "Species" # Specify the "cluster" column
) %>%
tab_options(
table.width = pct(80) # Make the table width 100%
)
table_cover
# Export the table as a PDF
gtsave(table_cover, "Ch1_Degradation_figures/table_spp_clustergroups.png")
# Export the table as a PDF
gtsave(table_cover, "Ch1_Degradation_figures/table_spp_clustergroups.png",
expand = 10)
view(cluster.subgrp.df)
table_clustercover <- cluster.subgrp.df %>%
mutate(sub_grp = recode(sub_grp,
`1` = "NNG",
`2` = "ssF",
`3` = "ssG",
`4` = "ssFG",
`5` = "EVG")) %>%
pivot_longer(cols = 4:55, names_to = "Species", values_to = "percent_cover") %>%
group_by(sub_grp, Species) %>%
summarise(mean_percentcover = round(mean(percent_cover, na.rm = TRUE)*100, 2)) %>%
pivot_wider(names_from = sub_grp, values_from = mean_percentcover) %>%
mutate(Species = str_replace_all(Species, "\\.", " ")) %>%
mutate(Species = str_trim(Species)) %>%
mutate(Species = case_when(
Species == "Cryptantha spp" ~ "Cryptantha spp.", # old name ~ new name
Species == "Erodium spp" ~ "Erodium spp.",
Species == "Lupinus spp" ~ "Lupinus spp.",
TRUE ~ Species
))
view(table_clustercover)
table_clustercover <- cluster.subgrp.df %>%
mutate(sub_grp = recode(sub_grp,
`1` = "NNG",
`2` = "ssF",
`3` = "ssG",
`4` = "ssFG",
`5` = "EVG")) %>%
pivot_longer(cols = 4:55, names_to = "Species", values_to = "percent_cover") %>%
group_by(sub_grp, Species) %>%
summarise(mean_percentcover = round(mean(percent_cover, na.rm = TRUE)*100, 2)) %>%
pivot_wider(names_from = sub_grp, values_from = mean_percentcover) %>%
mutate(Species = str_replace_all(Species, "\\.", " ")) %>%
mutate(Species = str_trim(Species)) %>%
mutate(Species = case_when(
Species == "Cryptantha spp" ~ "Cryptantha spp.", # old name ~ new name
Species == "Erodium spp" ~ "Erodium spp.",
Species == "Lupinus spp" ~ "Lupinus spp.",
TRUE ~ Species
))
# Print as a gt table
table_cover <- table_clustercover %>%
gt() %>%
tab_header(
title = "Mean Percent Cover by Cluster",
#subtitle = "Mean ± Standard Deviation for Elevation, Hillshade, Slope, Southwestness, Fire Events, and Coordinates"
) %>%
cols_align(
align = "left", # Center alignment
columns = "Species" # Specify the "cluster" column
) %>%
tab_options(
table.width = pct(80) # Make the table width 100%
)
table_cover
# Export the table as a PDF
gtsave(table_cover, "Ch1_Degradation_figures/table_spp_clustergroups.png",
expand = 10)
knitr::opts_chunk$set(echo = TRUE)
seedbank_load_raw <- read.csv("deg_seedbank_202407.csv", header = TRUE, na.strings=c("","NA"))
seedbank_load <- seedbank_load_raw %>%
dplyr::select(c("stand", "site", "soilcore", "depth_name", "treatment", "rep", "species_diversity", "genus_abundance", "lifeform", "status", "lifescycle", "family", "count"))
seedbank_load$count <- as.numeric(seedbank_load$count)
str(seedbank_load)
abcover_charateristics_load <- read.csv("processed/ab_specieslistwithcharateristics_08102024.csv", header = TRUE, na.strings=c("","NA")) %>%
select(!c(X)) %>%
dplyr::select(species, lifeform, status, lifecycle, family)
spp_charateristics <- abcover_charateristics_load %>%
distinct(species, .keep_all = TRUE) %>%
mutate(species = case_when(species == "Acmispon glaber" ~ "Acmispon spp.", # oldname ~ newname
species == "Bromus rubens" ~ "Bromus spp.",
species == "Claytonia perfoliata" ~ "Claytonia spp.",
species == "Festuca myros" ~ "Festuca myuros",
TRUE ~ species)) %>%
add_row(species = "Erigeron canadensis",
lifeform = "forb",
status = "native",
lifecycle = "annual",
family = "Asteraceae") %>%
add_row(species = "Eucrypta chrysanthemifolia",
lifeform = "forb",
status = "native",
lifecycle = "annual",
family = "Hydrophyllaceae") %>%
add_row(species = "Lactuca serriola",
lifeform = "forb",
status = "nonnative",
lifecycle = "annual",
family = "Asteraceae") %>%
add_row(species = "Nicotiana glauca",
lifeform = "shrub",
status = "nonnative",
lifecycle = "perennial",
family = "Solanacaeae") %>%
add_row(species = "Pseudognaphalium californicum",
lifeform = "forb",
status = "native",
lifecycle = "annual",
family = "Asteraceae") %>%
add_row(species = "Ribes spp.",
lifeform = "shrub",
status = "native",
lifecycle = "perennial",
family = "Grossulariaceae") %>%
add_row(species = "Typha domingensis",
lifeform = "forb",
status = "native",
lifecycle = "perennial",
family = "Typhaceae")
view(seedbank_load)
unique(seedbank_load$treatment)
a <- seedbank_load %>%  filter(treatment == "pretreatment")
view(a)
